<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>Struts2 | Cying</title><meta name="description" content="Struts2"><meta name="keywords" content="Struts"><meta name="author" content="Cying"><meta name="copyright" content="Cying"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Struts2"><meta name="twitter:description" content="Struts2"><meta name="twitter:image" content="http://img0.imgtn.bdimg.com/it/u=1029195302,1820024458&amp;fm=26&amp;gp=0.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Struts2"><meta property="og:url" content="http://yoursite.com/2020/02/01/Struts2/"><meta property="og:site_name" content="Cying"><meta property="og:description" content="Struts2"><meta property="og:image" content="http://img0.imgtn.bdimg.com/it/u=1029195302,1820024458&amp;fm=26&amp;gp=0.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2020/02/01/Struts2/"><link rel="next" title="HttpServlet" href="http://yoursite.com/2020/01/31/HttpServlet/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight_copy: 'false',
  highlight_lang: 'false',
  highlight_shrink: 'false',
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  copyright: undefined,
  copy_copyright_js: false,
  ClickShowText: undefined,
  medium_zoom: 'false',
  Snackbar: undefined
  
}</script><meta name="generator" content="Hexo 4.1.1"></head><body><div id="header"> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Cying</a></span><i class="fa fa-bars fa-fw toggle-menu pull_right close" aria-hidden="true"></i><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div></div></span><span class="pull_right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lazyload avatar_img" src="https://avatar.csdnimg.cn/6/B/F/1_cyingk_1576068554.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">11</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#null"><span class="toc_mobile_items-text">Struts</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#一、Struts2-概述"><span class="toc_mobile_items-text">一、Struts2 概述</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-1-简单案例"><span class="toc_mobile_items-text">1.1 - 简单案例</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-1-引入-Jar-包"><span class="toc_mobile_items-text">1.1.1 - 引入 Jar 包</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-2-新建-struts-xml"><span class="toc_mobile_items-text">1.1.2 - 新建 struts.xml</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-3-配置-action"><span class="toc_mobile_items-text">1.1.3 - 配置 action</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-4-配置-filter"><span class="toc_mobile_items-text">1.1.4 - 配置 filter</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-5-书写-Java-文件"><span class="toc_mobile_items-text">1.1.5 - 书写 Java 文件</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-2-过滤器"><span class="toc_mobile_items-text">1.2 - 过滤器</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#三、数据封装"><span class="toc_mobile_items-text">三、数据封装</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-1-属性驱动"><span class="toc_mobile_items-text">3.1 - 属性驱动</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-2-模型驱动"><span class="toc_mobile_items-text">3.2 - 模型驱动</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-3-1-向值栈放对象"><span class="toc_mobile_items-text">4.3.1 - 向值栈放对象</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-3-2-向值栈放-List-对象"><span class="toc_mobile_items-text">4.3.2 - 向值栈放 List 对象</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-4-从值栈获取数据"><span class="toc_mobile_items-text">4.4 - 从值栈获取数据</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-4-1-获取字符串"><span class="toc_mobile_items-text">4.4.1 - 获取字符串</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-4-2-获取对象"><span class="toc_mobile_items-text">4.4.2 - 获取对象</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-4-3-获取-List-对象"><span class="toc_mobile_items-text">4.4.3 - 获取 List 对象</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-4-4-其他操作"><span class="toc_mobile_items-text">4.4.4 - 其他操作</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#获取-setter-方法存放的数据"><span class="toc_mobile_items-text">- 获取 setter 方法存放的数据</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#获取-push-方法存放的数据"><span class="toc_mobile_items-text">- 获取 push 方法存放的数据</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-5-两种符号的使用"><span class="toc_mobile_items-text">4.5 - 两种符号的使用</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-5-1"><span class="toc_mobile_items-text">4.5.1 -</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-5-2"><span class="toc_mobile_items-text">4.5.2 - %</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#五、拦截器"><span class="toc_mobile_items-text">五、拦截器</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-1-概述"><span class="toc_mobile_items-text">5.1 - 概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-2-底层原理"><span class="toc_mobile_items-text">5.2 - 底层原理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-3-重要的概念"><span class="toc_mobile_items-text">5.3 - 重要的概念</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-3-1-过滤器和拦截器"><span class="toc_mobile_items-text">5.3.1 - 过滤器和拦截器</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-3-2-Servlet-和-action"><span class="toc_mobile_items-text">5.3.2 - Servlet 和 action</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-4-自定义拦截器"><span class="toc_mobile_items-text">5.4 - 自定义拦截器</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-4-1-继承类"><span class="toc_mobile_items-text">5.4.1 - 继承类</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-4-2-重写方法"><span class="toc_mobile_items-text">5.4.2 - 重写方法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-4-3-建立关系"><span class="toc_mobile_items-text">5.4.3 - 建立关系</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-4-4-放不拦截某些方法"><span class="toc_mobile_items-text">5.4.4 - 放不拦截某些方法</span></a></li></ol></li></ol></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#null"><span class="toc-text">Struts</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#一、Struts2-概述"><span class="toc-text">一、Struts2 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-简单案例"><span class="toc-text">1.1 - 简单案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-引入-Jar-包"><span class="toc-text">1.1.1 - 引入 Jar 包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-新建-struts-xml"><span class="toc-text">1.1.2 - 新建 struts.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-3-配置-action"><span class="toc-text">1.1.3 - 配置 action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-4-配置-filter"><span class="toc-text">1.1.4 - 配置 filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-5-书写-Java-文件"><span class="toc-text">1.1.5 - 书写 Java 文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-过滤器"><span class="toc-text">1.2 - 过滤器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三、数据封装"><span class="toc-text">三、数据封装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-属性驱动"><span class="toc-text">3.1 - 属性驱动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-模型驱动"><span class="toc-text">3.2 - 模型驱动</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-1-向值栈放对象"><span class="toc-text">4.3.1 - 向值栈放对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-2-向值栈放-List-对象"><span class="toc-text">4.3.2 - 向值栈放 List 对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-从值栈获取数据"><span class="toc-text">4.4 - 从值栈获取数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-1-获取字符串"><span class="toc-text">4.4.1 - 获取字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-2-获取对象"><span class="toc-text">4.4.2 - 获取对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-3-获取-List-对象"><span class="toc-text">4.4.3 - 获取 List 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-4-其他操作"><span class="toc-text">4.4.4 - 其他操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#获取-setter-方法存放的数据"><span class="toc-text">- 获取 setter 方法存放的数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取-push-方法存放的数据"><span class="toc-text">- 获取 push 方法存放的数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-两种符号的使用"><span class="toc-text">4.5 - 两种符号的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-1"><span class="toc-text">4.5.1 -</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-2"><span class="toc-text">4.5.2 - %</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五、拦截器"><span class="toc-text">五、拦截器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-概述"><span class="toc-text">5.1 - 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-底层原理"><span class="toc-text">5.2 - 底层原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-重要的概念"><span class="toc-text">5.3 - 重要的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-过滤器和拦截器"><span class="toc-text">5.3.1 - 过滤器和拦截器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-Servlet-和-action"><span class="toc-text">5.3.2 - Servlet 和 action</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-自定义拦截器"><span class="toc-text">5.4 - 自定义拦截器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-1-继承类"><span class="toc-text">5.4.1 - 继承类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-2-重写方法"><span class="toc-text">5.4.2 - 重写方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-3-建立关系"><span class="toc-text">5.4.3 - 建立关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-4-放不拦截某些方法"><span class="toc-text">5.4.4 - 放不拦截某些方法</span></a></li></ol></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1576225629919&amp;di=7ba0d070eae2f9b4c47dbc594874f4b5&amp;imgtype=0&amp;src=http%3A%2F%2Fb.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2F738b4710b912c8fcf25c5682ff039245d78821d5.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">Struts2</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-01</time><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon" aria-hidden="true"></i><span>Word count: </span><span class="word-count">2.6k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon" aria-hidden="true"></i><span>Reading time: 11 min</span><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true">       </i><span>Post View: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 style="
           font-size: 60px;
           font-weight: bolder;
           border: none;
           "><center>Struts</center></h1>



<h1 id="一、Struts2-概述"><a href="#一、Struts2-概述" class="headerlink" title="一、Struts2 概述"></a>一、Struts2 概述</h1><blockquote>
<ul>
<li>应用于 <code>JavaEE</code> 三层结构中 <code>web</code> 层框架</li>
<li><code>Struts2</code> 框架是在 <code>Struts1</code> 和 <code>WebWork</code> 基础之上发展的全新框架</li>
<li>有一个过滤器，根据不同的操作，在类里面写不同的方法</li>
</ul>
</blockquote>
<h2 id="1-1-简单案例"><a href="#1-1-简单案例" class="headerlink" title="1.1 - 简单案例"></a>1.1 - 简单案例</h2><h3 id="1-1-1-引入-Jar-包"><a href="#1-1-1-引入-Jar-包" class="headerlink" title="1.1.1 - 引入 Jar 包"></a>1.1.1 - 引入 Jar 包</h3><blockquote>
<ul>
<li><code>asm-7.1.jar</code></li>
<li><code>asm-commons-7.1.jar</code></li>
<li><code>asm-tree-7.1.jar</code></li>
<li><code>commons-fileupload-1.4.jar</code></li>
<li><code>commons-io-2.6.jar</code></li>
<li><code>commons-lang3-3.8.1.jar</code></li>
<li><code>freemarker-2.3.28.jar</code></li>
<li><code>javassist-3.20.0-GA.jar</code></li>
<li><code>log4j-api-2.12.1.jar</code></li>
<li><code>log4j-core-2.12.1.jar</code></li>
<li><code>ognl-3.1.26.jar</code></li>
<li><code>struts2-core-2.5.22.jar</code></li>
</ul>
</blockquote>
<h3 id="1-1-2-新建-struts-xml"><a href="#1-1-2-新建-struts-xml" class="headerlink" title="1.1.2 - 新建 struts.xml"></a>1.1.2 - 新建 struts.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">struts</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">"-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">"http://struts.apache.org/dtds/struts-2.5.dtd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">- struts.xml 文件位置固定在 src 文件夹</span><br></pre></td></tr></table></figure>

<h3 id="1-1-3-配置-action"><a href="#1-1-3-配置-action" class="headerlink" title="1.1.3 - 配置 action"></a>1.1.3 - 配置 action</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">struts</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"···"</span> <span class="attr">extends</span>=<span class="string">"struts-default"</span> <span class="attr">namespace</span>=<span class="string">"/···"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"···"</span> <span class="attr">class</span>=<span class="string">"Java 文件全路径"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"ok"</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">struts</span>&gt;</span></span><br><span class="line"></span><br><span class="line">- 在 struts.xml 文件中进行</span><br><span class="line">- 访问的基本路径相同的 action 放在同一个 package 中</span><br><span class="line">- package 的 extends 属性是固定的 struts-default</span><br><span class="line">- 外部的访问路径由 package 的 namespace 和 action 的 name 构成</span><br></pre></td></tr></table></figure>

<h3 id="1-1-4-配置-filter"><a href="#1-1-4-配置-filter" class="headerlink" title="1.1.4 - 配置 filter"></a>1.1.4 - 配置 filter</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>struts2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>struts2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">- 在 web.xml 文件中进行</span><br><span class="line">- filter 中的类容固定</span><br><span class="line">- filter-mapping 中配置要用到的 filter 和 要处理的路径</span><br></pre></td></tr></table></figure>

<h3 id="1-1-5-书写-Java-文件"><a href="#1-1-5-书写-Java-文件" class="headerlink" title="1.1.5 - 书写 Java 文件"></a>1.1.5 - 书写 Java 文件</h3><blockquote>
<p><code>Java</code> 文件要重写以下方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> 返回类型 execute() &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="1-2-过滤器"><a href="#1-2-过滤器" class="headerlink" title="1.2 - 过滤器"></a>1.2 - 过滤器</h2><blockquote>
<ul>
<li><p>外来请求首先会被汇总到过滤器</p>
</li>
<li><p>过滤器在服务器启动时创建，执行 <code>init</code> 方法</p>
</li>
<li><p>过滤器要做的事</p>
<ul>
<li><p>过滤器会获取请求路径</p>
</li>
<li><p>截取请求路径中的有效字符串</p>
</li>
<li><p>到 <code>src</code> 下面找到 <code>struts.xml</code> 使用 <code>dom4j</code> 进行解析</p>
</li>
<li><p>用截取到的字符串与 <code>struts.xml</code> 中的 <code>action</code> 进行匹配</p>
</li>
<li><p>如果匹配到对应的 <code>action</code> 则根据其中的全路径，反射创建对应 <code>Java</code> 类</p>
<ul>
<li><p>反射：</p>
</li>
<li><p>```java<br>Class clazz = Class.forName(“全路径”);<br> // 反射创建类<br> Method m = clazz.getMethod(“execute”);<br> // 获取方法<br> Object obj = m.invoke();<br> // 方法执行并获取返回值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>将返回值与该 <code>action</code> 中的 <code>result</code> 进行匹配</p>
</li>
<li><p>如果匹配成功，则跳转到相应页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 1.2.1 - init()</span><br><span class="line"></span><br><span class="line">加载自己创建的配置文件和 &#96;struts2&#96; 自带配置文件</span><br><span class="line"></span><br><span class="line">### 1.2.2 - doFilter()</span><br><span class="line"></span><br><span class="line">**request &#x3D; warpRequest(request);**</span><br><span class="line"></span><br><span class="line">增强</span><br><span class="line"></span><br><span class="line">## 1.3 - struts.xml</span><br><span class="line"></span><br><span class="line">### 1.3.1 - &lt;package\&gt;</span><br><span class="line"></span><br><span class="line">类似于代码包，用于区分不同的 &#96;action&#96; ，必须首先写 &#96;package&#96; 标签，在 &#96;package&#96; 标签中才能配置 &#96;action&#96;，在一个 &#96;package&#96; 中可以有多个 &#96;action&#96;</span><br><span class="line"></span><br><span class="line">#### - name</span><br><span class="line"></span><br><span class="line">和功能本身没有任何关系，只要重复，可以随便取</span><br><span class="line"></span><br><span class="line">#### - extends</span><br><span class="line"></span><br><span class="line">属性值是固定的，写了这个属性之后，在 &#96;package&#96; 中配置的 &#96;action&#96; 才具有 &#96;action&#96; 该有的功能</span><br><span class="line"></span><br><span class="line">#### - namespace</span><br><span class="line"></span><br><span class="line">要和 &#96;action&#96; 标签的 &#96;name&#96; 构成访问路径，默认值是 &#96;&#x2F;&#96;</span><br><span class="line"></span><br><span class="line">### 1.3.2 - &lt;action\&gt;</span><br><span class="line"></span><br><span class="line">配置 &#96;action&#96; 的访问路径及 &#96;Java&#96; 文件的绑定</span><br><span class="line"></span><br><span class="line">#### - name</span><br><span class="line"></span><br><span class="line">要和 &#96;package&#96; 标签的 &#96;name&#96; 构成访问路径</span><br><span class="line"></span><br><span class="line">可以用通配符 ***** 进行匹配</span><br><span class="line"></span><br><span class="line">#### - class</span><br><span class="line"></span><br><span class="line">&#96;action&#96; 所绑定 &#96;Java&#96; 文件的全路径</span><br><span class="line"></span><br><span class="line">#### - method</span><br><span class="line"></span><br><span class="line">指定执行 &#96;Java&#96; 文件中的哪一个方法</span><br><span class="line"></span><br><span class="line">在通配符模式下，用 &#96;&#123;1&#125;&#96; 来获取方法，获取到的方法名即 ***** 所代替的字符串</span><br><span class="line"></span><br><span class="line">#### - action 的另外两种编写方式</span><br><span class="line"></span><br><span class="line">- &#96;implements Action&#96;</span><br><span class="line">- &#96;extends ActionSupport&#96;</span><br><span class="line"></span><br><span class="line">### 1.3.3 - &lt;result\&gt;</span><br><span class="line"></span><br><span class="line">根据 &#96;action&#96; 方法返回值，配置到不同的路径</span><br><span class="line"></span><br><span class="line">#### - name</span><br><span class="line"></span><br><span class="line">和 &#96;action&#96; 返回值一样</span><br><span class="line"></span><br><span class="line">#### - type</span><br><span class="line"></span><br><span class="line">指定如何到达配置路径的方法</span><br><span class="line"></span><br><span class="line">- &#96;dispatcher&#96; 请求转发，默认</span><br><span class="line">- &#96;redirect&#96; 重定向</span><br><span class="line">- &#96;chain&#96; 转发到 &#96;action&#96;</span><br><span class="line">- &#96;redirectAction&#96; 重定向到 &#96;Action&#96;</span><br><span class="line"></span><br><span class="line">### 1.3.4 - &lt;constant\&gt;</span><br><span class="line"></span><br><span class="line">#### - name</span><br><span class="line"></span><br><span class="line">#### - value</span><br><span class="line"></span><br><span class="line">另外两种常量修改方式</span><br><span class="line"></span><br><span class="line">- 在 &#96;src&#96; 下创建 &#96;struts.properties&#96; </span><br><span class="line">- 在 &#96;web.xml&#96; 配置</span><br><span class="line"></span><br><span class="line">### 1.3.5 - &lt;include\&gt;</span><br><span class="line"></span><br><span class="line">####  - file</span><br><span class="line"></span><br><span class="line">文件路径</span><br><span class="line"></span><br><span class="line">### 1.3.6 - &lt;global-results\&gt;</span><br><span class="line"></span><br><span class="line">当有多个 &#96;action&#96; 返回值相同、且其 &#96;result&#96; 返回的内容也相同，则可以使用这个</span><br><span class="line"></span><br><span class="line"># 二、数据处理</span><br><span class="line"></span><br><span class="line">## 2.1 - 使用 ActionContext 类</span><br><span class="line"></span><br><span class="line">- 需要创建 &#96;ActionContext&#96; 对象</span><br><span class="line">- 不是 &#96;new&#96; 出来的</span><br><span class="line"></span><br><span class="line">## 2.2 - 使用 ServletActionContext 类</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 2.3 - 使用 Interface 注入</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;java</span><br><span class="line">public class A implements ServletRequestAware &#123;</span><br><span class="line"> </span><br><span class="line"> private HttpServletRequest request;</span><br><span class="line"> </span><br><span class="line"> public void setServletRequest(HttpServletRequest request) &#123;</span><br><span class="line">   this.request &#x3D; request;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</blockquote>
<h1 id="三、数据封装"><a href="#三、数据封装" class="headerlink" title="三、数据封装"></a>三、数据封装</h1><h2 id="3-1-属性驱动"><a href="#3-1-属性驱动" class="headerlink" title="3.1 - 属性驱动"></a>3.1 - 属性驱动</h2><blockquote>
<ul>
<li>直接把表单提交属性封装到 <code>action</code> 属性</li>
<li>实现步骤<ul>
<li>在 <code>action</code> 成员变量位置定义变量 – 变量名和表单输入项的 <code>name</code> 属性值一样</li>
<li>生成变量的 <code>setter</code> 和 <code>getter</code>  </li>
</ul>
</li>
<li>使用属性封装获取表单数据到属性里面，不能把数据直接封装到实体类</li>
</ul>
</blockquote>
<h2 id="3-2-模型驱动"><a href="#3-2-模型驱动" class="headerlink" title="3.2 - 模型驱动"></a>3.2 - 模型驱动</h2><blockquote>
<ul>
<li><p>使用模型驱动方式，可以直接把表单数据封装到实体类对象里面</p>
</li>
<li><p>实现步骤</p>
<ul>
<li><p><code>action</code> 实现接口 <code>ModelDriven</code> </p>
</li>
<li><p>实现接口里的方法 <code>getModel</code> </p>
</li>
<li><p>在 <code>action</code> 里创建实体类对象</p>
</li>
<li><pre><code class="java"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> <span class="keyword">implements</span> <span class="title">ModelDriven</span> &lt;类型&gt; </span>{

  <span class="keyword">private</span> 类型 a = <span class="keyword">new</span> 类型();

  <span class="keyword">public</span> 类型 getModel() {

    <span class="keyword">return</span> a;

  }

}
&lt;!--￼<span class="number">6</span>--&gt;</code></pre>
</li>
</ul>
</li>
</ul>
</blockquote>
<p><strong>调用 push()</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ActionContext context = ActionContext.getContext();</span><br><span class="line"></span><br><span class="line">ValueStack stack = context.getValueStack();</span><br><span class="line"></span><br><span class="line">stack.put(<span class="string">""</span>);</span><br></pre></td></tr></table></figure>

<p><strong>生成 get()</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-1-向值栈放对象"><a href="#4-3-1-向值栈放对象" class="headerlink" title="4.3.1 - 向值栈放对象"></a>4.3.1 - 向值栈放对象</h3><blockquote>
<ul>
<li><p>定义对象变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> User user = <span class="keyword">new</span> User();</span><br></pre></td></tr></table></figure>
</li>
<li><p>生成变量的 <code>get</code> 方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在执行的方法里面向对象中设置值</p>
</li>
</ul>
</blockquote>
<h3 id="4-3-2-向值栈放-List-对象"><a href="#4-3-2-向值栈放-List-对象" class="headerlink" title="4.3.2 - 向值栈放 List 对象"></a>4.3.2 - 向值栈放 List 对象</h3><blockquote>
<ul>
<li>定义 <code>List</code> 集合</li>
<li>生成变量的 <code>getter</code> </li>
<li>在执行的方法里面向 <code>List</code> 集合设置值</li>
</ul>
</blockquote>
<h2 id="4-4-从值栈获取数据"><a href="#4-4-从值栈获取数据" class="headerlink" title="4.4 - 从值栈获取数据"></a>4.4 - 从值栈获取数据</h2><blockquote>
<ul>
<li>使用 <code>Struts2</code> 的标签 + <code>Ognl</code> 表达式获取值栈数据<ul>
<li><code>&lt;s:property value=&quot;Ognl 表达式&quot;/&gt;</code></li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="4-4-1-获取字符串"><a href="#4-4-1-获取字符串" class="headerlink" title="4.4.1 - 获取字符串"></a>4.4.1 - 获取字符串</h3><p><strong>action</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> String 变量名;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> String get变量名() &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> 变量名;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    </span><br><span class="line">    变量名 = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">return</span> SUCCESS;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>struts.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"自定义名称"</span> <span class="attr">class</span>=<span class="string">"action 全路径"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"success"</span>&gt;</span>/返回的 jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>jsp</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;s:property value=<span class="string">"变量名"</span>/&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-4-2-获取对象"><a href="#4-4-2-获取对象" class="headerlink" title="4.4.2 - 获取对象"></a>4.4.2 - 获取对象</h3><p><strong>action</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> 类名 对象;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> String get对象() &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> 对象;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    </span><br><span class="line">    对象.属性 = <span class="string">"···"</span>;</span><br><span class="line">    ···</span><br><span class="line">    对象.属性 = <span class="string">"···"</span>;</span><br><span class="line">    <span class="keyword">return</span> SUCCESS;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>struts.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"自定义名称"</span> <span class="attr">class</span>=<span class="string">"action 全路径"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"success"</span>&gt;</span>/返回的 jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>jsp</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;s:property value=<span class="string">"对象.属性"</span>/&gt;</span><br><span class="line">···</span><br><span class="line">&lt;s:property value=<span class="string">"对象.属性"</span>/&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-4-3-获取-List-对象"><a href="#4-4-3-获取-List-对象" class="headerlink" title="4.4.3 - 获取 List 对象"></a>4.4.3 - 获取 List 对象</h3><p><strong>action</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  List&lt;类型&gt; list = <span class="keyword">new</span> List();</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    类型 对象<span class="number">1</span> = <span class="keyword">new</span> 类型();</span><br><span class="line">    对象<span class="number">1</span>.属性 = <span class="string">"···"</span>;</span><br><span class="line">    ···</span><br><span class="line">    对象<span class="number">1</span>.属性 = <span class="string">"···"</span>;  </span><br><span class="line">    </span><br><span class="line">    类型 对象<span class="number">2</span> = <span class="keyword">new</span> 类型();</span><br><span class="line">    对象<span class="number">2</span>.属性 = <span class="string">"···"</span>;</span><br><span class="line">    ···</span><br><span class="line">    对象<span class="number">2</span>.属性 = <span class="string">"···"</span>;  </span><br><span class="line">    </span><br><span class="line">    list.add(对象<span class="number">1</span>);</span><br><span class="line">    list.add(对象<span class="number">2</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> SUCCESS;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>struts.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"自定义名称"</span> <span class="attr">class</span>=<span class="string">"action 全路径"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"success"</span>&gt;</span>/返回的 jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>jsp</strong></p>
<p><strong>第一种方式</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;s:property value=<span class="string">"list[0].属性"</span>/&gt;</span><br><span class="line">···</span><br><span class="line">&lt;s:property value=<span class="string">"list[0].属性"</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;s:property value=<span class="string">"list[1].属性"</span>/&gt;</span><br><span class="line">···</span><br><span class="line">&lt;s:property value=<span class="string">"list[1].属性"</span>/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>第二种方式</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;s:iterator value=<span class="string">"list"</span>&gt;</span><br><span class="line">	&lt;s:property value=<span class="string">"属性"</span>/&gt;</span><br><span class="line">  ···</span><br><span class="line">	&lt;s:property value=<span class="string">"属性"</span>/&gt;</span><br><span class="line">&lt;/s:iterator&gt;</span><br></pre></td></tr></table></figure>

<p><strong>第三种方式</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;s:iterator value=<span class="string">"list"</span> <span class="keyword">var</span>=<span class="string">"自定义名称"</span>&gt;</span><br><span class="line">	&lt;s:property value=<span class="string">"#自定义名称.属性"</span>/&gt;</span><br><span class="line">  ···</span><br><span class="line">	&lt;s:property value=<span class="string">"#自定义名称.属性"</span>/&gt;</span><br><span class="line">&lt;/s:iterator&gt;</span><br><span class="line">  </span><br><span class="line">- var 会被临时放入 context,需要使用特殊符号 `#` 才能取到</span><br></pre></td></tr></table></figure>

<h3 id="4-4-4-其他操作"><a href="#4-4-4-其他操作" class="headerlink" title="4.4.4 - 其他操作"></a>4.4.4 - 其他操作</h3><h4 id="获取-setter-方法存放的数据"><a href="#获取-setter-方法存放的数据" class="headerlink" title="- 获取 setter 方法存放的数据"></a>- 获取 setter 方法存放的数据</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;s:property value=<span class="string">"栈的key"</span>/&gt;</span><br></pre></td></tr></table></figure>

<h4 id="获取-push-方法存放的数据"><a href="#获取-push-方法存放的数据" class="headerlink" title="- 获取 push 方法存放的数据"></a>- 获取 push 方法存放的数据</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;s:property value=<span class="string">"[下标].top"</span>/&gt;</span><br><span class="line"></span><br><span class="line">- 因为 push 进栈的没有名字，默认存放在 top 数组</span><br></pre></td></tr></table></figure>

<h2 id="4-5-两种符号的使用"><a href="#4-5-两种符号的使用" class="headerlink" title="4.5 - 两种符号的使用"></a>4.5 - 两种符号的使用</h2><h3 id="4-5-1"><a href="#4-5-1" class="headerlink" title="4.5.1 -"></a>4.5.1 -</h3><p><strong>先在 action 向域中添加对象</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">  </span><br><span class="line">  HttpServletRequest request = ServletActionContext.getRequest();</span><br><span class="line">  request.setAttribute(key, value);</span><br><span class="line">  <span class="keyword">return</span> SUCCESS;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>struts.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"自定义名称"</span> <span class="attr">class</span>=<span class="string">"action 全路径"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"success"</span>&gt;</span>/返回的 jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>jsp</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;s:property value=<span class="string">"#context域的key.域对象名称"</span>/&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-5-2"><a href="#4-5-2" class="headerlink" title="4.5.2 - %"></a>4.5.2 - %</h3><blockquote>
<p>在 <code>struts2</code> 标签里使用 <code>Ognl</code> 表达式，如果直接在 <code>struts2</code> 表单标签里面使用 <code>Ognl</code> 表达式不识别，只有 % 之后才会识别</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;s:textfield name="" value=%&#123;#context域的key.域对象名称&#125;&gt;&lt;/s:textfield&gt;</span><br></pre></td></tr></table></figure>

<h1 id="五、拦截器"><a href="#五、拦截器" class="headerlink" title="五、拦截器"></a>五、拦截器</h1><h2 id="5-1-概述"><a href="#5-1-概述" class="headerlink" title="5.1 - 概述"></a>5.1 - 概述</h2><blockquote>
<ul>
<li><code>struts2</code> 是框架，封装了很多功能，<code>struts2</code> 里面封装的功能都是在拦截器里面</li>
<li><code>struts2</code> 里面封装了很多的功能，又很多拦截器，不是每次这些拦截器都执行，每次执行默认的拦截器</li>
<li>默认拦截器位置：<code>struts2-core-version.jar/struts-default.xml</code></li>
<li>在 <code>action</code> 创建之后，执行之前调用</li>
</ul>
</blockquote>
<h2 id="5-2-底层原理"><a href="#5-2-底层原理" class="headerlink" title="5.2 - 底层原理"></a>5.2 - 底层原理</h2><p><strong>两大思想</strong></p>
<blockquote>
<ul>
<li><code>Aop</code> 思想</li>
<li>职责链设计模式<ul>
<li>要执行多个操作，有添加、修改、删除</li>
<li>首先执行添加操作，添加之后执行修改操作，最后执行删除操作</li>
</ul>
</li>
</ul>
</blockquote>
<p><strong>通过 AOP 将拦截器加入到执行过程</strong></p>
<h2 id="5-3-重要的概念"><a href="#5-3-重要的概念" class="headerlink" title="5.3 - 重要的概念"></a>5.3 - 重要的概念</h2><h3 id="5-3-1-过滤器和拦截器"><a href="#5-3-1-过滤器和拦截器" class="headerlink" title="5.3.1 - 过滤器和拦截器"></a>5.3.1 - 过滤器和拦截器</h3><blockquote>
<ul>
<li>过滤器：理论上可以拦截任意内容</li>
<li>拦截器：只可以拦截 <code>action</code></li>
</ul>
</blockquote>
<h3 id="5-3-2-Servlet-和-action"><a href="#5-3-2-Servlet-和-action" class="headerlink" title="5.3.2 - Servlet 和 action"></a>5.3.2 - Servlet 和 action</h3><blockquote>
<ul>
<li><code>servlet</code> 默认第一次访问时创建，创建一次，单实例对象</li>
<li><code>action</code> 每次访问时创建，创建多次，多实例对象 </li>
</ul>
</blockquote>
<h2 id="5-4-自定义拦截器"><a href="#5-4-自定义拦截器" class="headerlink" title="5.4 - 自定义拦截器"></a>5.4 - 自定义拦截器</h2><h3 id="5-4-1-继承类"><a href="#5-4-1-继承类" class="headerlink" title="5.4.1 - 继承类"></a>5.4.1 - 继承类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">AbstractInterceptor</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 而</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AbstractInterceptor</span> <span class="keyword">implements</span> <span class="title">Interceptor</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- 工作中推荐下面</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">MethodFilterInterceptor</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">protected</span> String <span class="title">doIntercept</span><span class="params">(ActionInvocation invocation)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-2-重写方法"><a href="#5-4-2-重写方法" class="headerlink" title="5.4.2 - 重写方法"></a>5.4.2 - 重写方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">String <span class="title">intercept</span><span class="params">(ActionInvocation invocation)</span></span>;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-3-建立关系"><a href="#5-4-3-建立关系" class="headerlink" title="5.4.3 - 建立关系"></a>5.4.3 - 建立关系</h3><blockquote>
<ul>
<li><p>在要拦截的 <code>action</code> 标签所在的 <code>package</code> 标签里面声明拦截器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">interceptors</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">interceptor</span> <span class="attr">name</span>=<span class="string">"自定义name"</span> <span class="attr">class</span>=<span class="string">"拦截器java文件全路径"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">interceptors</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在具体的 <code>action</code> 标签里面使用声明的拦截器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">interceptor-ref</span> <span class="attr">name</span>=<span class="string">"上面的自定义name"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果在 <code>struts.xml</code> 中使用自定义的，则默认拦截器不会执行</p>
<ul>
<li><p>解决方法：手动引入默认拦截器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">interceptor-ref</span> <span class="attr">name</span>=<span class="string">"paramsPrepareParamsStack"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>自定义拦截器会对 <code>action</code> 里所有方法都拦截</p>
</li>
</ul>
</blockquote>
<h3 id="5-4-4-放不拦截某些方法"><a href="#5-4-4-放不拦截某些方法" class="headerlink" title="5.4.4 - 放不拦截某些方法"></a>5.4.4 - 放不拦截某些方法</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">interceptor-ref</span> <span class="attr">name</span>=<span class="string">"上面的自定义name"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"excludeMethods"</span>&gt;</span>写方法名，多个用逗号隔开<span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">interceptor-ref</span>&gt;</span></span><br></pre></td></tr></table></figure>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Cying</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/02/01/Struts2/">http://yoursite.com/2020/02/01/Struts2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Struts/">Struts    </a></div><div class="post_share"><div class="social-share" data-image="http://img0.imgtn.bdimg.com/it/u=1029195302,1820024458&amp;fm=26&amp;gp=0.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="next-post pull-full"><a href="/2020/01/31/HttpServlet/"><img class="next_cover lazyload" data-src="https://img-blog.csdnimg.cn/2019060217174520.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pob3V5bV8=,size_16,color_FFFFFF,t_70" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span>HttpServlet</span></div></a></div></nav></div></div><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2020 By Cying</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/third-party/click_heart.js"></script></body></html>